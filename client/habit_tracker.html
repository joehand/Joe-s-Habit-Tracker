<head>
  <title>Streak: A Simple Habit Tracker</title>
</head>

<body>
	
	<div class="container-fluid">
	  	
 
		
	  <div class="row-fluid page-wrap">	
	    <div class="span8 content">
	      <!--Body content-->
			
			{{> calendar}}
			{{> tag_filter}}
				<!--
			  		<div id="createList" class="span10 ">
			    		<input type="text" id="new-list" class="input-mini" placeholder="New list" />
			  		</div> -->
	    </div>
		<div class="span4" id="sidebar">
		  <section class="sidebar ">		
			<div id="streakLogo"></div>
			 <h1 id="main-head">Streak</h1>
			<!--Sidebar content-->
			 <div class="row-fluid">
		  		<p class="lead span11">Track your daily habits visually. Try not to break the chain.</p>
				
			</div>
				 <div class="row-fluid">
				{{#if currentUser}}
					<div class="currentUser span12">
					{{> loginButtons}}
					</div>
				{{else}}
				
				<h3 class=" span9">Start Playing: <br/><small>DEMO MODE</small></h3>
				<div class="sign-in span3 pull-right">
				<i class="icon-user pull-right"></i>
				{{> loginButtons}}
				</div>
				{{/if}}
			</div>
					 <div class="row-fluid">
		    	{{> habits}}
					</div>
					
							 <div class="row-fluid">
									</div>
					<blockquote class="span12 pull-right"><p>‘Your net worth to the world is usually determined by what remains after your bad habits are subtracted from your good ones.’</p><small>Benjamin Franklin</small></blockquote>
					
		  </section>
	    </div>
	  </div>
	</div>
	
</body>


<template name="lists">
	<ul class="nav nav-pills">
    	{{#each lists}}		
			<li>
	            		<a tabindex="-1" class="list-name {{name_class}}" href="/{{_id}}">
              					{{name}}
						</a>
      				</li>
    {{/each}}
      </ul>
  </div>	
</template>


<template name="habits">
  {{#if any_list_selected}}
  <div id="items-view" class="span12">
	  <div class="control-group span12" id="new-habit-box">
		<div class="controls ">
	      <div class="input-prepend">
	        <span class="add-on span2"><label for="new-habit"><i class="icon-leaf"></i></label></span>
		    <input class="span10" id="new-habit" type="text" placeholder="New Habit" required/>
		  </div>
	    </div>
	  </div>
    <ul id="item-list" class="span12">
      {{#each habits}}
        {{> habit_item}}
      {{/each}}
    </ul>
  </div>
  {{/if}}
</template>

<template name="habit_item">
<li class="habit  {{done_class}} ">
    {{#if editing}}
      <div class="edit">
	  <div class="control-group span12" id="new-habit-box">
		<div class="controls ">
		      <div class="input-prepend ">
		        <span class="add-on span2"><label for="habit-input"><i class="icon-leaf"></i></label></span>
		        <input id="habit-input" class="span10" type="text" value="{{text}}" />
			  </div>
			  </div>
		    </div>
		
    {{else}}
	
      <div class="display">			
			<i class="show check icon-ok  pull-left"></i>
			<i class="calendar icon-calendar  pull-left"></i>
        <div class="check habit-text span7">{{text}}</div>	
        <div class="streak span2 {{streak.elClass}}"><i class="icon-fire pull-left"></i>{{streak.text}}</div>
	<i class="edit-icon icon-pencil  pull-right"></i>
				<i class="destroy icon-trash  pull-right"></i>
    </div>		
    {{/if}}	
	
      {{#if adding_date}}
  <div class="control-group date-controls span12">
    <div class="controls">	
	  <div class="input-prepend editdate">
        <span class="add-on  span2"><label for="date"><i class="icon-calendar"></i></label></span>
		<input class="input span6" type="date" id="date-input" value=""/>
	  </div>
	</div>
  </div>
  </div>	
{{/if}}
	
  <div class=" item-tags">
	<div class="tags">
    {{#if adding_tag}}
      <div class="tag edittag ">
        <input type="text" id="edittag-input" value="" />
      </div>
    {{else}}
      <div class=" tag addtag">
		 <i class=" icon-tags"></i>
      </div>
    {{/if}}
	
    {{#each tag_objs}}
      <div class="tag removable_tag">
        <div class="name">{{tag}}</div>
        <div class="remove"></div>
      </div>
    {{/each}}
  </div> 	
  </div>

	<!--
	{{#if currentUser}}
      <div class="toggle-privacy-wrapper">
      <div class="toggle-privacy tag">
        {{#if privateTo}}
          <span class="make-public">
            make public
          </span>
        {{else}}
          <span class="make-private">
            make private
          </span>
        {{/if}}
      </div>
      </div>
    {{/if}}-->
	
  </li>
</template>


<template name="tag_filter">
  <div id="tag-filter" class="well tag-list span11">
    {{#each tags}}
      <div class="pull-left tag {{selected}}">
		{{#if selected}}
	
        	{{tag_text}} <span class="badge">{{count}}</span>
		{{else}}
	
        	{{tag_text}} <span class="badge  badge-inverse">{{count}}</span>
		{{/if}}
      </div>
    {{/each}}
	
<footer class="span12"><ul class="breadcrumb">
	  <li class="">
	    <a href="#">About</a><span class="divider">/</span>
	  </li>
	  <li><a href="http://joehand.org">Blog</a><span class="divider">/</span></li>
	  <li><a href="#">Contact</a></li>
	</ul>
</footer>
  </div>
</template>


<template name="calendar">
		<div class="span12" id="calendar" data-ts="{{ts}}">
			<div class="header">
			<ul class="pager">
			  <li class="previous span3">
			    <a href="#">{{month.prev}}</a>
			  </li>
				<li class="span6">
			  		<a href="#"><h3 class="time muted">{{time}}</h3></a>
				 </li>
			  <li class="next span3">
			    <a href="#">{{month.next}}</a>
			  </li>
			</ul>
			</div>

			<div class="row-fluid">
				<h2 class="month pull-left">{{month.current}}</h2>
				<h3 class="year  ">{{year}}</h3>
			</div>


			
			<table id="calendar" class=" table calendar table-condensed" >
				<thead>
					<tr>
					{{#each days}}
						<th class="caps">{{this}}</th>
					{{/each}}
					</tr>
				</thead>
				<tbody>
					{{#each weeks}}
					<tr>
						{{#each dates}}
							<td class=" {{this.elClass}}" id="{{this.id}}" data-ts="{{this.dayts}}">{{this.date}}<div id="checkMark"></div>
							</td>
						{{/each}}
					</tr>
					{{/each}}					
				</tbody>
			</table>
			
		</div>	
			
</template>

<!--

<template name="entry">
	  <div class="control-group">
		<div class="controls">
	      <div class="input-prepend">
	        <span class="add-on"><label for="name"><i class="icon-leaf"></i></label></span>
		    <input class="input-xlarge" id="name" type="text" placeholder="Your Habit" required/>
		  </div>
	    </div>
	  </div>
	
	
	  <div class="control-group">
	  	
		<div class="controls">
	      <div class="input-prepend">
	        <span class="add-on"><label for="notes"><i class="icon-book"></i></label></span>
		    <textarea class="input-xlarge" id="notes" placeholder="Notes" name="notes" rows="3"></textarea>
		  </div>
	    </div>
	  </div>
	  	
	  <div class="control-group">
	    <div class="controls">	
		  <div class="input-prepend">
	        <span class="add-on"><label for="date"><i class="icon-calendar"></i></label></span>
			<input class="input-large" type="date" id="date" value="{{today}}"/>
			  <button class="btn btn-mini btn-success status" value="true" type="button" id="status" name="status">Habit Done!</button>
		  </div>
		</div>
	  </div>
	
</template>

<template name="habits">
	<div class="habits span12">
	{{#each habits}}
		{{> habit}}
	{{/each}}	
	</div>
</template>	
<template name="habit">
	<div class="row-fluid">
		<div class="span4"><strong>{{ name }}:</strong></div>
		<div class="span4">{{notes}}</div>
	</div>
	<div class="row-fluid">
		<div class="span3">
			{{#if status}}<i class="icon-ok"></i>
			{{else}}<i class="icon-remove"></i>
			{{/if}}
			<small>{{ date }}</small>
		</div>
	</div>
</template>-->

